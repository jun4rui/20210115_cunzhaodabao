<!DOCTYPE html>
<html lang="zh_CN">
<head>
  <meta charset="UTF-8">
  <!--<meta content="width=1920, user-scalable=yes" name="viewport">-->
  <meta content="ie=edge" http-equiv="X-UA-Compatible">
  <title></title>
  <script src="node_modules/jquery/dist/jquery.min.js"></script>
  <script src="node_modules/vue/dist/vue.min.js"></script>
  <link href="node_modules/element-ui/lib/theme-chalk/index.css" rel="stylesheet">
  <script src="node_modules/element-ui/lib/index.js"></script>
  <script src="node_modules/moment/moment.js"></script>
  <script src="node_modules/moment/locale/zh-cn.js"></script>
  <script src="js/common.js"></script>
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="js/barragerjs/dist/css/barrager.css">
  <script src="js/barragerjs/dist/js/jquery.barrager.min.js"></script>
  <script src="node_modules/lodash/lodash.min.js"></script>
  <script src="js/jmessage-sdk-web-2.6.0/jmessage-sdk-web.2.6.0.min.js"></script>
  <script src="node_modules/cssobj/dist/cssobj.min.js"></script>
  <!--搜狐pv库，加入returnCitySN对象-->
  <script src="//pv.sohu.com/cityjson?ie=utf-8"></script>
</head>
<body>
<!--主内容-->
<div id="main">
  <!-- Header -->
  <div id="header">
    <div class="header_panel">
      <a href="/" class="to_home">返回首页</a>
      <ul v-if="activityRecord" id="count_panel">
        <li>浏览量&nbsp;<span>{{ activityRecord.pageviews }}</span>，</li>
        <li>参会企业&nbsp;<span>{{ activityRecord.companyCount }}</span>，</li>
        <li>招聘人数&nbsp;<span>{{ activityRecord.requireCount }}</span></li>
      </ul>
    </div>
  </div>
  <!-- /Header -->
  <!-- Banner -->
  <div id="banner" v-if="activityInfo" :style="{backgroundImage:'url('+(activityInfo.otherUrl?activityInfo.otherUrl:'../images/banner.png')+')'}">
    <!--标题区-->
    <div id="title_panel" v-if="activityInfo">
      <div class="title" v-if="!activityInfo.otherUrl">{{ activityInfo.productName }}</div>
      <div class="desc" v-if="!activityInfo.otherUrl">{{ nl2br(activityInfo.remark || '') }}</div>
    </div>
    <!--/标题区-->
    <div class="banner_panel">
      <!--弹幕区-->
      <div id="danmu"></div>
      <!--/弹幕区-->
      <!--功能区-->
      <div id="func_panel">
        <div class="func_panel_left">
          <!--Tab-->
          <ul id="tab">
            <li @click="currentTab=0" :class="{'active':currentTab===0}">招聘大厅</li>
            <li @click="currentTab=1" :class="{'active':currentTab===1}">求职大厅</li>
          </ul>
          <!--/Tab-->
          <!--招聘大厅用-->
          <div id="recruitment_section" class="cj-flex cj-justify-content-start cj-align-items-center" v-if="currentTab===0">
            <!--企业搜索条-->
            <div id="company-search_panel" class="keyword_search">
              <input type="text" placeholder="请输入您要搜索的企业或职位名称" v-model="searchCompanyKeyword">
              <button type="button">搜索</button>
            </div>
            <!--/企业搜索条-->
            <!--企业离线在线切换-->
            <ul id="company-status_switch" class="status_switch">
              <li @click="currentCompanyShowStatus=1" v-if="currentCompanyShowStatus===0">全部企业</li>
              <li @click="currentCompanyShowStatus=0" v-if="currentCompanyShowStatus===1" class="active">在线企业</li>
            </ul>
            <!--/企业离线在线切换-->
          </div>
          <!--/招聘大厅用-->
          <!--求职大厅用-->
          <div id="jobseeker_section" class="cj-flex cj-justify-content-start cj-align-items-center" v-if="currentTab===1">
            <!--个人搜索条-->
            <div id="person-search_panel" class="keyword_search">
              <input type="text" placeholder="请输入您要搜索的求职者名称" v-model="searchPersonKeyword">
              <button type="button">搜索</button>
            </div>
            <!--/个人搜索条-->
            <!--个人离线在线切换-->
            <ul id="person-status_switch" class="status_switch">
              <li @click="currentPersonShowStatus=1" v-if="currentPersonShowStatus===0">全部求职者</li>
              <li @click="currentPersonShowStatus=0" v-if="currentPersonShowStatus===1" class="active">在线求职者</li>
            </ul>
            <!--/个人离线在线切换-->
          </div>
          <!--/求职大厅用-->
        </div>
        <div class="func_panel_right">
          <!--登录区-->
          <ul id="login_panel" v-if="!personUserInfo && !companyUserInfo">
            <li id="person_login">
              <img src="images/icon_login_person.png" alt="个人登陆">
              <span class="login_button" @click="userLogin('person')">个人登陆</span>
            </li>
            <li id="company_login">
              <img src="images/icon_login_company.png" alt="企业登陆">
              <span class="login_button" @click="userLogin('company')">企业登陆</span>
            </li>
          </ul>
          <div id="person-info_panel" v-if="personUserInfo">
            <!--<div class="avatar" :style="'background-image:url(images/avatar_'+(personUserInfo.genderCode==='01'?'man':'woman')+'_'+(personUserInfo.personId%4+1)+'.png)'"></div>-->
            <!--无头像-->
            <div v-if="!personUserInfo.photoLink" class="avatar" :style="'background-image:url(images/avatar_'+(personUserInfo.genderCode==='01'?'man':'woman')+'_'+(personUserInfo.personId%4+1)+'.png)'"></div>
            <!--有头像-->
            <div v-if="personUserInfo.photoLink" class="avatar" :style="'background-image:url(//www.hnrcsc.com/share/'+personUserInfo.photoLink+')'"></div>
            <a class="name">{{ personUserInfo.personName }}</a>
            <div class="view-message" @click="viewMessage">消息<span>{{ unreadMsgCount }}</span></div>
            <div class="logout" @click="logout">退出</div>
          </div>
          <div id="company-info_panel" v-if="companyUserInfo">
            <div v-if="!companyUserInfo.logoUrl" class="avatar" :style="'background-image:url(images/icon_login_company@2x.png)'"></div>
            <div v-if="companyUserInfo.logoUrl" class="avatar" :style="'background-image:url(//www.hnrcsc.com'+companyUserInfo.logoUrl+')'"></div>
            <a class="name">{{ companyUserInfo.userName }}</a>
            <div class="view-message" @click="viewMessage">消息<span>{{ unreadMsgCount }}</span></div>
            <div class="logout" @click="logout">退出</div>
          </div>
          <!--/登录区-->
          <!--倒计时区-->
          <div id="countdown_panel">
            <div class="title">会议结束倒计时</div>
            <div v-if="activityEndTime" id="countdown_time" class="cj-block">
              <span class="time">{{ activityEndTime.day }}</span>
              <span class="char">天</span>
              <span class="time">{{ activityEndTime.hour }}</span>
              <span class="char">时</span>
              <span class="time">{{ activityEndTime.min }}</span>
              <span class="char">分</span>
            </div>
            <div id="goto_panel">
              <div id="view-invitation-card" @click="activityDescDialog=true;" v-if="!personUserInfo && !companyUserInfo && activityInfo.wordpressId"></div>
              <div id="view-invitation-card_long" @click="activityDescDialog=true;" v-if="personUserInfo"></div>
              <!--TODO 没有做所以先去掉-->
              <!--<a id="order-exhibition" href="#" v-if="!personUserInfo && !companyUserInfo">&lt;!&ndash;TODO 这里还没有链接&ndash;&gt;</a>-->
              <!--<a id="order-exhibition_long" href="#" v-if="companyUserInfo">&lt;!&ndash;TODO 这里还没有链接&ndash;&gt;</a>-->
            </div>
          </div>
          <!--/倒计时区-->
        </div>
      </div>
      <!--/功能区-->
    </div>
  </div>
  <!-- /Banner -->
  <!--消息对话框Dialog-->
  <el-dialog :title="targetUser.name" :visible.sync="chatDiaglogVisible" center id="chat-dialog" @close="clearChatTargetUser">
    <!--聊天区域面板-->
    <div id="chat-dialog_panel">
      <!--对话列表-->
      <div id="conversations_panel">
        <ul>
          <li @click="readMsg(item.nickName, item.name)" :class="{active:item.nickName==targetUser.name}" class="cj-block" v-for="item in conversations">
            <img class="avatar" src="images/avatar_man_3.png" alt="avatar">
            <span class="nike-name">{{ item.nickName }}</span>
            <span class="new" v-if="item.unread_msg_count>0">{{ item.unread_msg_count }}</span>
          </li>
        </ul>
      </div>
      <!--/对话列表-->
      <!--对话框-->
      <div id="chat-area_panel">
        <ul id="chat-message">
          <li v-for="item in currentMsg" :class="{self: item.from_id!==mainModel.targetUser.id}">
            <span class="avatar">{{ item.from_username.substr(0, 1) }}</span>
            <div class="chat-info">
              <span class="name">{{ item.from_username }}</span>
              <span class="message">{{ item.message }}</span>
              <span class="time">{{ moment(new Date(item.timestamp)).format('YYYY-MM-DD hh:mm:ss') }}</span>
            </div>
          </li>
        </ul>
        <span class="chat-message_footer">
              <!--聊天功能菜单-->
              <div id="chat-function_menu">
                <div class="cj-inline-block" @click="chatViewCompanyInfo" v-if="personUserInfo">
                  <el-button size="mini" type="primary" icon="el-icon-office-building" plain>公司详情</el-button>
                </div>
                <div class="cj-inline-block" @click="chatViewPersonResume" v-if="companyUserInfo">
                  <el-button size="mini" type="primary" icon="el-icon-user-solid" plain>查看简历</el-button>
                </div>
                <div class="cj-inline-block" @click="chatViewVideo">
                  <el-button size="mini" type="primary" icon="el-icon-video-camera-solid" plain>视频沟通</el-button>
                </div>
              </div>
          <!--/聊天功能菜单-->
          <!--消息发送-->
              <div id="chat-input">
                  <el-input :rows="2" id="input-message" placeholder="请输入内容" type="textarea" v-model="chatMessage"></el-input>
                  <div style="justify-content: flex-end;padding-top: 10px" class="cj-flex cj-flex-nowrap cj-align-items-center">
                      <!--<el-button @click="clearChatTargetUser" type="warning" slot="prepend" icon="el-icon-close">离开</el-button>-->
                      <el-button @click="sendChatMessage" type="primary" slot="append" icon="el-icon-upload2">发送</el-button>
                  </div>
              </div>
          <!--/消息发送-->
          </span>
      </div>
      <!--/对话框-->
      <!--其他信息区域-->
      <div id="chat-area_other">
        <!--企业信息模块-->
        <div class="company-info model active">
          <div v-if="currentCompanyInfo">
            <div class="company-info_name">{{ currentCompanyInfo.companyName }}</div>
            <ul class="company-info_other split">
              <li>{{ currentCompanyInfo.entProp }}</li>
              <li>{{ currentCompanyInfo.persons ? currentCompanyInfo.persons : '-人数未填写-' }}</li>
              <li>{{ currentCompanyInfo.industry ? currentCompanyInfo.industry : '-未填写-' }}</li>
            </ul>
            <div class="company-info_address">{{
                currentCompanyInfo.address ? currentCompanyInfo.address : '-公司地址未填写-'
              }}
            </div>
            <div class="company-info_subtitle">企业简介</div>
            <div class="company-info_content company-info_desc cj-ellipsis-multiline">
              {{ currentCompanyInfo.companyInfo }}
              <div class="unfold" @click="doFold('#chat-area_other')">【展开】</div>
              <div class="fold" @click="doFold('#chat-area_other')">【收拢】</div>
            </div>
            <div class="company-info_subtitle">招聘职位</div>
            <div class="company-info_content">
              <!--职位列表-->
              <div class="company-info-recruit-list">
                <div class="company-info-recruit_item" v-for="recruitItem in currentRecruitList">
                  <div class="job-title">{{ recruitItem.recruitName }}</div>
                  <ul class="recruit-other-info split">
                    <li>
                      <span v-if="recruitItem.salary==='1000元以下'">1K内</span>
                      <span v-if="recruitItem.salary==='1500-2000元'">1.5-2K</span>
                      <span v-if="recruitItem.salary==='2000-2500元'">2-2.5K</span>
                      <span v-if="recruitItem.salary==='2500-3000元'">2.5-3K</span>
                      <span v-if="recruitItem.salary==='3000-3500元'">3-3.5K</span>
                      <span v-if="recruitItem.salary==='3500-4000元'">3.5-4K</span>
                      <span v-if="recruitItem.salary==='4000-5000元'">4-5K</span>
                      <span v-if="recruitItem.salary==='5000-6000元'">5-6K</span>
                      <span v-if="recruitItem.salary==='6000-8000元'">6-8K</span>
                      <span v-if="recruitItem.salary==='8000-10000元'">8-10K</span>
                      <span v-if="recruitItem.salary==='10000-15000元'">10-15K</span>
                      <span v-if="recruitItem.salary==='15000元以上'">15K以上</span>
                      <span v-if="recruitItem.salary==='面议'">面议</span>
                    </li>
                    <li>
                      学历要求{{ recruitItem.lowerEdu }}
                    </li>
                    <li>
                      经验{{ recruitItem.workYears }}
                    </li>
                    <li>
                      招{{ recruitItem.persons }}人
                    </li>
                  </ul>
                  <div class="welfare">
                    绩效奖金、岗前培训、扁平管理、岗位晋升、弹性工作、餐补、交通补助
                  </div>
                  <div class="post-resume" @click="postResume(recruitItem.recruitId)">投递简历</div>
                </div>
              </div>
              <!--/职位列表-->
            </div>
          </div>
        </div>
        <!--/企业信息模块-->
        <!--在线聊天模块-->
        <iframe class="video-chat model" frameborder="0"></iframe>
        <!--/在线聊天模块-->
        <!--个人简历模块-->
        <div class="person-resume model">
          <div v-if="currentResumeInfo" class="resume-detail">
            <div class="cj-flex cj-flex-nowrap cj-align-items-center cj-justify-content-around">
              <!--头像-->
              <div class="photoLinkDsp" :style="{backgroundImage:'url('+currentResumeInfo.jobPerson.photoLinkDsp+')'}"></div>
              <div class="resume-detail_info cj-flex">
                <div class="cj-flex cj-flex-nowrap cj-justify-content-start cj-align-items-center">
                  <!--姓名-->
                  <div class="personName cj-inline-block">{{ currentResumeInfo.jobPerson.personName }}</div>
                  <!--社会在职-->
                  <div class="personTypeDsp cj-inline-block">{{ currentResumeInfo.jobPerson.personTypeDsp }}</div>
                </div>
                <ul class="resume-other_info split">
                  <li>
                    <!--性别-->
                    {{ currentResumeInfo.jobPerson.genderDsp }}
                  </li>
                  <li>
                    <!--年龄-->
                    {{ currentResumeInfo.jobPerson.age }}
                  </li>
                  <li>
                    <!--工作年限-->
                    {{ currentResumeInfo.jobPerson.workYears }}年工作经验
                  </li>
                  <li>
                    <!--学历-->
                    {{ currentResumeInfo.jobPerson.highestEduDsp }}
                  </li>
                </ul>
                <div class="resume-detail_concat">
                  <!--手机号码-->
                  <div class="mobilePhone cj-inline-block">{{ currentResumeInfo.jobPerson.mobilePhone }}</div>
                  <!--电子邮箱-->
                  <div class="email cj-inline-block">{{
                      currentResumeInfo.jobPerson.email
                          ? currentResumeInfo.jobPerson.email
                          : '-未填-'
                    }}
                  </div>
                  <!--现居地-->
                  <div class="currLocDsp cj-inline-block">{{ currentResumeInfo.jobPerson.currLocDsp }}</div>
                </div>
              </div>
            </div>
            <!--教育经历-->
            <div class="jobPersonEduList" v-if="currentResumeInfo.personEduList">
              <div class="resume-detail_subtitle">教育经历</div>
              <div class="resume-detail_content">
                <div v-for="item in currentResumeInfo.personEduList">
                  {{ item.personEduDsp }}
                </div>
              </div>
              <ul>
              </ul>
            </div>
            <!--期待岗位-->
            <div class="position">
              <div class="resume-detail_subtitle">意向岗位</div>
              <div class="resume-detail_content">
                <!--意向岗位-->
                <div class="positionDsp">求职岗位：{{ currentResumeInfo.jobPersonCv.positionDsp }}</div>
                <!--工作性质-->
                <div class="jobTypeDsp">工作性质：{{ currentResumeInfo.jobPersonCv.jobTypeDsp }}</div>
                <!--工作地点-->
                <div class="locationDsp">工作地点：{{ currentResumeInfo.jobPersonCv.locationDsp }}</div>
                <!--从事行业-->
                <div class="industryDsp">从事行业：{{ currentResumeInfo.jobPersonCv.industryDsp }}</div>
                <!--期待月薪-->
                <div class="salaryRangeDsp">期待月薪：{{ currentResumeInfo.jobPersonCv.salaryRangeDsp }}</div>
                <!--到岗时间-->
                <div class="availableInDaysDsp">到岗时间：{{ currentResumeInfo.jobPersonCv.availableInDaysDsp }}</div>
              </div>
            </div>
            <div v-if="currentResumeInfo.jobPersonCv">
              <div class="resume-detail_subtitle">个人自述</div>
              <div class="resume-detail_content" v-html="currentResumeInfo.jobPersonCv.selfCommentDsp"></div>
              <div class="resume-detail_subtitle">其他说明</div>
              <div class="resume-detail_content" v-html="currentResumeInfo.jobPersonCv.remark4Disp"></div>
            </div>
            <!--工作经验-->
            <div v-if="currentResumeInfo.personJobHistList">
              <div class="resume-detail_subtitle">工作经验</div>
              <div class="resume-detail_content">
                <div v-for="item in currentResumeInfo.personJobHistList">
                  <div class="cj-flex cj-flex-nowrap cj-align-items-center cj-justify-content-between">
                    <div>{{ item.startDate ? item.startDate.substr(0, 7) : '至今' }}至{{
                        item.endDate
                            ? item.endDate.substr(0, 7)
                            : '至今'
                      }}
                    </div>
                    <div>{{ item.positionName }}</div>
                  </div>
                  <div>{{ item.companyName }}</div>
                  <div v-html="item.achievement4Disp"></div>
                  <br>
                </div>
              </div>
            </div>
            <!--项目经验-->
            <div v-if="currentResumeInfo.personProjectList">
              <div class="resume-detail_subtitle">项目经验</div>
              <div class="resume-detail_content">
                <div v-for="item in currentResumeInfo.personProjectList">
                  <div class="cj-flex cj-flex-nowrap cj-align-items-center cj-justify-content-between">
                    <div>{{ item.startDate ? item.startDate.substr(0, 7) : '至今' }}至{{
                        item.endDate
                            ? item.endDate.substr(0, 7)
                            : '至今'
                      }}
                    </div>
                    <div>{{ item.projectName }}</div>
                  </div>
                  <div v-html="item.projectDetail4Disp"></div>
                  <div v-html="item.responsibility4Disp"></div>
                  <div v-html="item.keyTechnology4Disp"></div>
                  <br>
                </div>
              </div>
            </div>
            <!--技能-->
            <div v-if="currentResumeInfo.personItSkillList">
              <div class="resume-detail_subtitle">技能</div>
              <div class="resume-detail_content">
                <div v-for="item in currentResumeInfo.personItSkillList">
                  {{ item.personItSkillDsp }}
                </div>
              </div>
            </div>
            <!--资格证书-->
            <div v-if="currentResumeInfo.personProCertList">
              <div class="resume-detail_subtitle">资格证书</div>
              <div class="resume-detail_content">
                <div v-for="item in currentResumeInfo.personProCertList">
                  {{ item.personProCertDsp }}
                </div>
              </div>
            </div>
            <!--职业教育培训-->
            <div v-if="currentResumeInfo.trainingList">
              <div class="resume-detail_subtitle">职业教育培训</div>
              <div class="resume-detail_content">
                <div v-for="item in currentResumeInfo.trainingList">
                  <div class="cj-flex cj-flex-nowrap cj-align-items-center cj-justify-content-between">
                    <div>{{ item.startDate ? item.startDate.substr(0, 7) : '至今' }}至{{
                        item.endDate
                            ? item.endDate.substr(0, 7)
                            : '至今'
                      }}
                    </div>
                    <div>{{ item.projectName }}</div>
                  </div>
                  <div v-html="item.trainingOrgDsp"></div>
                  <div v-html="item.trainingNameDsp"></div>
                  <div v-html="item.trainingDetailDsp"></div>
                  <br>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--/个人简历模块-->
      </div>
      <!--/其他信息区域-->
    </div>
    <!--/聊天区域面板-->
  </el-dialog>
  <!--/消息对话框Dialog-->
  <!-- Tab容器 -->
  <div id="tab_content">
    <!-- 招聘大厅 -->
    <div id="recruitment-hall" class="tab_item" v-if="currentTab===0">
      <div id="top-bar"></div>
      <div class="out_panel_top1"></div>
      <div class="out_panel_top2"></div>
      <div class="out_border_1">
        <div class="out_border_2">
          <div class="company-list_panel" v-if="companyList" :class="{'online': currentCompanyShowStatus===1}">
            <!--展位单元-->
            <div class="company-item" v-if="item.companyName.indexOf(searchCompanyKeyword)>-1 || JSON.stringify(item.recruitModelList).indexOf(searchCompanyKeyword.trim())>-1" v-for="item in companyList" :class="{'offline': !item.lastUpdateDate || moment().diff(moment(item.lastUpdateDate),'minutes')>offlineTimeout}">
              <!--<div class="DEBUG" style=" z-index: 9999999999; position: absolute; color:#FFF;">{{}}</div>-->
              <!--公司名称-->
              <div title="点击查看详情" class="company_name" @click="showCurrentCompanyInfo(item.companyId)">
                <span>{{ item.companyName }}</span>
              </div>
              <div class="company_lastUpdateDate">刷新时间：{{ item.lastUpdateDate }}</div>
              <!--职位列表-->
              <!--根据业务要求，点击查看职位列表改成点击查看企业详情和职位列表<div @click="showRecruitList(item.companyId)" class="recruit-list">-->
              <div @click="showCurrentCompanyInfo(item.companyId)" class="recruit-list">
                <div class="recruit-list_panel" title="点击投递职位">
                  <div class="recruit-item">
                    <div class="see-more">查看更多</div>
                  </div>
                  <div class="recruit-item" v-if="item.recruitModelList" v-for="(recruitItem, recruitIndex) in item.recruitModelList">
                    <div class="job-title">{{ (parseInt(recruitIndex) + 1) + '. ' + recruitItem.jobTitle }}</div>
                    <div class="salary" v-if="recruitItem.salary==='1000元以下'">1K内</div>
                    <div class="salary" v-if="recruitItem.salary==='1500-2000元'">1.5-2K</div>
                    <div class="salary" v-if="recruitItem.salary==='2000-2500元'">2-2.5K</div>
                    <div class="salary" v-if="recruitItem.salary==='2500-3000元'">2.5-3K</div>
                    <div class="salary" v-if="recruitItem.salary==='3000-3500元'">3-3.5K</div>
                    <div class="salary" v-if="recruitItem.salary==='3500-4000元'">3.5-4K</div>
                    <div class="salary" v-if="recruitItem.salary==='4000-5000元'">4-5K</div>
                    <div class="salary" v-if="recruitItem.salary==='5000-6000元'">5-6K</div>
                    <div class="salary" v-if="recruitItem.salary==='6000-8000元'">6-8K</div>
                    <div class="salary" v-if="recruitItem.salary==='8000-10000元'">8-10K</div>
                    <div class="salary" v-if="recruitItem.salary==='10000-15000元'">10-15K</div>
                    <div class="salary" v-if="recruitItem.salary==='15000元以上'">15K以上</div>
                    <div class="salary" v-if="recruitItem.salary==='面议'">面议</div>
                  </div>
                </div>
              </div>
              <!--HR-->
              <div class="hr" :style="{backgroundImage:'url(images/pic_hr_'+(item.companyId%16+1)+'.png)'}"></div>
              <!--Table-->
              <div class="table"></div>
              <!--JobSeeker-->
              <div class="job-seeker" :style="{backgroundImage:'url(images/pic_jobseeker_'+(item.companyId%8+1)+'.png)'}"></div>
              <!--Chair-->
              <div class="chair"></div>
              <!--立即沟通-->
              <div class="to-chat" @click="chatToCompany(item.companyName, item.companyId)">立即沟通</div>
              <div class="to-chat offline" @click="chatToCompany(item.companyName, item.companyId)">给TA留言（离线）</div>
            </div>
            <!--/展位单元-->
          </div>
        </div>
      </div>
      <div class="out_panel_bottom2"></div>
      <div class="out_panel_bottom1"></div>
    </div>
    <!-- /招聘大厅 -->
    <!-- 求职大厅 -->
    <div id="job-hall" class="tab_item" v-if="currentTab===1">
      <div class="out_panel_top1">
        <div class="title_panel">
          <div class="title"></div>
        </div>
      </div>
      <div class="out_panel_top2"></div>
      <div class="out_border_1">
        <div class="out_border_2">
          <!-- 在线求职者列表 -->
          <div id="job-seeker_list" :class="{'online': currentPersonShowStatus===1}" v-if="jobSeekerList">
            <div class="job-seeker_item" v-if="searchPersonKeyword.trim()==='' || item.personName.indexOf(searchPersonKeyword)>-1" :class="{'offline':moment().diff(moment(item.lastUpdateDate),'minutes')>offlineTimeout}" v-for="item in jobSeekerList">
              <div class="online_status online">在线</div>
              <div class="online_status offline">离线</div>
              <!--<span>{{item.lastUpdateDate}} {{moment().diff(moment(item.lastUpdateDate),'minutes')}}</span>-->
              <div class="avatar" :style="'background-image:url(images/avatar_'+(item.genderCode==='01'?'man':'woman')+'_'+(item.personId%4+1)+'.png)'"></div>
              <div class="name">{{ item.personName }}</div>
              <div class="position">{{ item.positionCode ? item.positionCode : '-暂无-' }}</div>
              <div class="info">
                {{ item.graduateSchool ? item.graduateSchool : '-未登记学校信息-' }}<br>
                {{ item.major ? item.major : '-专业未填-' }}/{{ item.highestEdu ? item.highestEdu + '学历' : '-学历未填-' }}<br>
                {{ item.workYears }}年工作经验
              </div>
              <div class="chat-now online" @click="chatToPerson(item.personName, item.personId)">立即沟通</div>
              <div class="chat-now offline" @click="chatToPerson(item.personName, item.personId)">给TA留言</div>
              <div class="view-resume" @click="viewResume(item.cvId)">查看简历</div>
            </div>
          </div>
          <!-- /在线求职者列表 -->
        </div>
      </div>
      <div class="out_panel_bottom2"></div>
      <div class="out_panel_bottom1"></div>
    </div>
    <!-- /求职大厅 -->
  </div>
  <!-- /Tab容器 -->
  <!-- 区域内放置Dialog -->
  <!-- 企业详情Dialog -->
  <el-dialog id="company-info" class="company-info" title="公司详情" :visible.sync="companyInfoDialog" width="600px">
    <!--职位详情子Dialog-->
    <el-dialog id="recruit-info" width="600px" title="职位详情" :visible.sync="recruitInfoDialog" append-to-body>
      <div v-if="currentRecruitInfo">
        <div class="cri-recruit-name">{{ currentRecruitInfo.recruitName }}</div>
        <ul class="cri-recruit-info split">
          <li>{{ currentRecruitInfo.salary }}</li>
          <li>{{ currentRecruitInfo.location }}</li>
          <li>{{ currentRecruitInfo.lowerEdu }}</li>
          <li>招{{ currentRecruitInfo.recruitPersons }}人</li>
        </ul>
        <div class="cri-company-name">{{ currentRecruitInfo.companyName }}</div>
        <div class="cri_subtitle">职位福利</div>
        <div class="cri_content">
          <ul class="cri-welfare" v-if="currentRecruitInfo.welfare">
            <li v-for="item in currentRecruitInfo.welfare.split(',')" :title="item">{{ item }}</li>
          </ul>
        </div>
        <div class="cri_subtitle">职位要求</div>
        <div class="cri_content">
          <div class="cri-detail" v-html="nl2br(currentRecruitInfo.detail)">
          </div>
        </div>
        <!--投递职位按钮-->
        <div class="post-resume" @click="postResume(currentRecruitInfo.recruitId)">投递简历</div>
        <!--/投递职位按钮-->
        <!--
        address: "长沙市望城区雷锋大道1389号"
        companyId: "2144184"
        companyIdStr: "D889B54CAA4B8485"
        companyName: "春风行动企业测试账号6"
        contactPerson: "人力资源部"
        deptName: ""
        detail: "任职要求：
        ↵222222222
        ↵
        ↵岗位描述：333333333
        ↵
        ↵
        ↵薪酬福利：顶顶顶顶顶顶顶顶顶顶顶顶顶顶"
        entProp: "有限责任公司"
        fax: null
        industry: "机械行业"
        location: "湖南省长沙市"
        lowerEdu: "其它"
        persons: "3001-5000人"
        phone: "0731-"
        recruitName: "厂长"
        recruitPersons: "500"
        refreshDate: "2021-01-29 10:12:34"
        salary: "1000元以下"
        welfare: "加班补贴,全勤奖,包吃,包住,房补,年终奖金,绩效奖金"
        workYears: "不限"
        -->
      </div>
    </el-dialog>
    <!--/职位详情子Dialog-->
    <div v-if="currentCompanyInfo">
      <div class="company-info_name">{{ currentCompanyInfo.companyName }}</div>
      <ul class="company-info_other split">
        <li>{{ currentCompanyInfo.entProp }}</li>
        <li>{{ currentCompanyInfo.persons ? currentCompanyInfo.persons : '-人数未填写-' }}</li>
        <li>{{ currentCompanyInfo.industry ? currentCompanyInfo.industry : '-未填写-' }}</li>
      </ul>
      <div class="company-info_address">{{
          currentCompanyInfo.address ? currentCompanyInfo.address : '-公司地址未填写-'
        }}
      </div>
      <div class="company-info_subtitle">企业简介</div>
      <div class="company-info_content company-info_desc cj-ellipsis-multiline">
        {{ currentCompanyInfo.companyInfo }}
        <div class="unfold" @click="doFold('#company-info')">【展开】</div>
        <div class="fold" @click="doFold('#company-info')">【收拢】</div>
      </div>
      <div class="company-info_subtitle">招聘职位</div>
      <div class="company-info_content">
        <!--职位列表-->
        <div class="company-info-recruit-list">
          <div class="company-info-recruit_item" v-for="recruitItem in currentRecruitList">
            <div class="job-title" @click="showRecruitInfo(recruitItem.recruitId)">{{ recruitItem.recruitName }}</div>
            <ul class="recruit-other-info split">
              <li>
                <span v-if="recruitItem.salary==='1000元以下'">1K内</span>
                <span v-if="recruitItem.salary==='1500-2000元'">1.5-2K</span>
                <span v-if="recruitItem.salary==='2000-2500元'">2-2.5K</span>
                <span v-if="recruitItem.salary==='2500-3000元'">2.5-3K</span>
                <span v-if="recruitItem.salary==='3000-3500元'">3-3.5K</span>
                <span v-if="recruitItem.salary==='3500-4000元'">3.5-4K</span>
                <span v-if="recruitItem.salary==='4000-5000元'">4-5K</span>
                <span v-if="recruitItem.salary==='5000-6000元'">5-6K</span>
                <span v-if="recruitItem.salary==='6000-8000元'">6-8K</span>
                <span v-if="recruitItem.salary==='8000-10000元'">8-10K</span>
                <span v-if="recruitItem.salary==='10000-15000元'">10-15K</span>
                <span v-if="recruitItem.salary==='15000元以上'">15K以上</span>
                <span v-if="recruitItem.salary==='面议'">面议</span>
              </li>
              <li>
                学历要求{{ recruitItem.lowerEdu }}
              </li>
              <li>
                经验{{ recruitItem.workYears }}
              </li>
              <li>
                招{{ recruitItem.persons }}人
              </li>
            </ul>
            <div class="welfare">
              绩效奖金、岗前培训、扁平管理、岗位晋升、弹性工作、餐补、交通补助
            </div>
            <div class="post-resume" @click="postResume(recruitItem.recruitId)">投递简历</div>
          </div>
        </div>
        <!--/职位列表-->
      </div>
    </div>
    <span slot="footer" class="dialog-footer"></span>
  </el-dialog>
  <!-- /企业详情Dialog -->
  <!-- 职位详情Dialog -->
  <!-- /职位详情Dialog -->
  <!-- 职位列表和投递 -->
  <el-dialog id="recruit-list_dialog" title="选择面试职位" :visible.sync="recruitListDialog" width="520px">
    <div v-if="currentRecruitList" v-for="item in currentRecruitList">
      <el-radio v-model="currentRecruitChecked" :label="item.recruitId" border>{{ item.recruitName }}</el-radio>
    </div>
    <div slot="footer" class="dialog-footer">
      <span id="recruit-list_submit" @click="recruitListSubmit()">投递简历</span>
    </div>
  </el-dialog>
  <!-- /职位列表和投递 -->
  <!-- 邀请函Dialog -->
  <el-dialog title="邀请函" :visible.sync="activityDescDialog" width="600px">
    <div v-if="activityDesc">
      <div class="cj-text-center">
        <h1>{{ activityDesc.postTitle }}</h1>
        <h4>{{ activityDesc.postDate }}</h4>
      </div>
      <div style="text-indent:2em;" v-html="nl2br(activityDesc.postContent)"></div>
    </div>
    <span slot="footer" class="dialog-footer">
    </span>
  </el-dialog>
  <!-- /邀请函Dialog -->
  <!--简历详情Dialog-->
  <el-dialog title="简历详情" :visible.sync="resumeInfoDialog" width="600px">
    <div v-if="currentResumeInfo" class="resume-detail">
      <div class="cj-flex cj-flex-nowrap cj-align-items-center cj-justify-content-around">
        <!--头像-->
        <div class="photoLinkDsp" :style="{backgroundImage:'url('+currentResumeInfo.jobPerson.photoLinkDsp+')'}"></div>
        <div class="resume-detail_info cj-flex">
          <div class="cj-flex cj-flex-nowrap cj-justify-content-start cj-align-items-center">
            <!--姓名-->
            <div class="personName cj-inline-block">{{ currentResumeInfo.jobPerson.personName }}</div>
            <!--社会在职-->
            <div class="personTypeDsp cj-inline-block">{{ currentResumeInfo.jobPerson.personTypeDsp }}</div>
          </div>
          <ul class="resume-other_info split">
            <li>
              <!--性别-->
              {{ currentResumeInfo.jobPerson.genderDsp }}
            </li>
            <li>
              <!--年龄-->
              {{ currentResumeInfo.jobPerson.age }}
            </li>
            <li>
              <!--工作年限-->
              {{ currentResumeInfo.jobPerson.workYears }}年工作经验
            </li>
            <li>
              <!--学历-->
              {{ currentResumeInfo.jobPerson.highestEduDsp }}
            </li>
          </ul>
          <div class="resume-detail_concat">
            <!--手机号码-->
            <div class="mobilePhone cj-inline-block">{{ currentResumeInfo.jobPerson.mobilePhone }}</div>
            <!--电子邮箱-->
            <div class="email cj-inline-block">{{
                currentResumeInfo.jobPerson.email
                    ? currentResumeInfo.jobPerson.email
                    : '-未填-'
              }}
            </div>
            <!--现居地-->
            <div class="currLocDsp cj-inline-block">{{ currentResumeInfo.jobPerson.currLocDsp }}</div>
          </div>
        </div>
      </div>
      <!--教育经历-->
      <div class="jobPersonEduList" v-if="currentResumeInfo.personEduList">
        <div class="resume-detail_subtitle">教育经历</div>
        <div class="resume-detail_content">
          <div v-for="item in currentResumeInfo.personEduList">
            {{ item.personEduDsp }}
          </div>
        </div>
        <ul>
        </ul>
      </div>
      <!--期待岗位-->
      <div class="position">
        <div class="resume-detail_subtitle">意向岗位</div>
        <div class="resume-detail_content">
          <!--意向岗位-->
          <div class="positionDsp">求职岗位：{{ currentResumeInfo.jobPersonCv.positionDsp }}</div>
          <!--工作性质-->
          <div class="jobTypeDsp">工作性质：{{ currentResumeInfo.jobPersonCv.jobTypeDsp }}</div>
          <!--工作地点-->
          <div class="locationDsp">工作地点：{{ currentResumeInfo.jobPersonCv.locationDsp }}</div>
          <!--从事行业-->
          <div class="industryDsp">从事行业：{{ currentResumeInfo.jobPersonCv.industryDsp }}</div>
          <!--期待月薪-->
          <div class="salaryRangeDsp">期待月薪：{{ currentResumeInfo.jobPersonCv.salaryRangeDsp }}</div>
          <!--到岗时间-->
          <div class="availableInDaysDsp">到岗时间：{{ currentResumeInfo.jobPersonCv.availableInDaysDsp }}</div>
        </div>
      </div>
      <div v-if="currentResumeInfo.jobPersonCv">
        <div class="resume-detail_subtitle">个人自述</div>
        <div class="resume-detail_content" v-html="currentResumeInfo.jobPersonCv.selfCommentDsp"></div>
        <div class="resume-detail_subtitle">其他说明</div>
        <div class="resume-detail_content" v-html="currentResumeInfo.jobPersonCv.remark4Disp"></div>
      </div>
      <!--工作经验-->
      <div v-if="currentResumeInfo.personJobHistList">
        <div class="resume-detail_subtitle">工作经验</div>
        <div class="resume-detail_content">
          <div v-for="item in currentResumeInfo.personJobHistList">
            <div class="cj-flex cj-flex-nowrap cj-align-items-center cj-justify-content-between">
              <div>{{ item.startDate ? item.startDate.substr(0, 7) : '至今' }}至{{
                  item.endDate
                      ? item.endDate.substr(0, 7)
                      : '至今'
                }}
              </div>
              <div>{{ item.positionName }}</div>
            </div>
            <div>{{ item.companyName }}</div>
            <div v-html="item.achievement4Disp"></div>
            <br>
          </div>
        </div>
      </div>
      <!--项目经验-->
      <div v-if="currentResumeInfo.personProjectList">
        <div class="resume-detail_subtitle">项目经验</div>
        <div class="resume-detail_content">
          <div v-for="item in currentResumeInfo.personProjectList">
            <div class="cj-flex cj-flex-nowrap cj-align-items-center cj-justify-content-between">
              <div>{{ item.startDate ? item.startDate.substr(0, 7) : '至今' }}至{{
                  item.endDate
                      ? item.endDate.substr(0, 7)
                      : '至今'
                }}
              </div>
              <div>{{ item.projectName }}</div>
            </div>
            <div v-html="item.projectDetail4Disp"></div>
            <div v-html="item.responsibility4Disp"></div>
            <div v-html="item.keyTechnology4Disp"></div>
            <br>
          </div>
        </div>
      </div>
      <!--技能-->
      <div v-if="currentResumeInfo.personItSkillList">
        <div class="resume-detail_subtitle">技能</div>
        <div class="resume-detail_content">
          <div v-for="item in currentResumeInfo.personItSkillList">
            {{ item.personItSkillDsp }}
          </div>
        </div>
      </div>
      <!--资格证书-->
      <div v-if="currentResumeInfo.personProCertList">
        <div class="resume-detail_subtitle">资格证书</div>
        <div class="resume-detail_content">
          <div v-for="item in currentResumeInfo.personProCertList">
            {{ item.personProCertDsp }}
          </div>
        </div>
      </div>
      <!--职业教育培训-->
      <div v-if="currentResumeInfo.trainingList">
        <div class="resume-detail_subtitle">职业教育培训</div>
        <div class="resume-detail_content">
          <div v-for="item in currentResumeInfo.trainingList">
            <div class="cj-flex cj-flex-nowrap cj-align-items-center cj-justify-content-between">
              <div>{{ item.startDate ? item.startDate.substr(0, 7) : '至今' }}至{{
                  item.endDate
                      ? item.endDate.substr(0, 7)
                      : '至今'
                }}
              </div>
              <div>{{ item.projectName }}</div>
            </div>
            <div v-html="item.trainingOrgDsp"></div>
            <div v-html="item.trainingNameDsp"></div>
            <div v-html="item.trainingDetailDsp"></div>
            <br>
          </div>
        </div>
      </div>
    </div>
    <span slot="footer" class="dialog-footer">
    </span>
  </el-dialog>
  <!--/简历详情Dialog-->
  <!-- /区域内放置Dialog -->
</div>
<!--/主内容-->
<script src="index.js?v=20210204AA"></script>
<script>
  //根据浏览器窗口宽度计算内容框体宽度
  (function() {
    var obj       = {
      '#top-bar':            {width: '1780px'},
      '.out_panel_top1':     {width: '1780px'},
      '.out_panel_bottom2':  {width: '1780px'},
      '.out_panel_top2':     {width: '1780px'},
      '.out_panel_bottom1':  {width: '1780px'},
      '.out_border_1':       {width: '1746px'},
      '.company-list_panel': {width: '1712px'}
    };
    var cssResult = cssobj(obj);

    function reCalcSize() {
      console.log('WIDTH:' + window.innerWidth + ', HEIGHT:' + window.innerHeight);
      var _baseWidth = '1780';
      if (window.innerWidth < 1780) {
        _baseWidth = window.innerWidth;
      }

      obj['#top-bar'].width            = (_baseWidth) + 'px';
      obj['.out_panel_top1'].width     = (_baseWidth) + 'px';
      obj['.out_panel_top2'].width     = (_baseWidth) + 'px';
      obj['.out_panel_bottom1'].width  = (_baseWidth) + 'px';
      obj['.out_panel_bottom2'].width  = (_baseWidth) + 'px';
      obj['.out_border_1'].width       = (_baseWidth - 34) + 'px';
      obj['.company-list_panel'].width = (_baseWidth - 68) + 'px';
      cssResult.update();
    }

    // 这样根据屏幕尺寸可以初始化一下元素宽度，延迟3s再计算一次
    reCalcSize();
    setTimeout(function(){
      reCalcSize();
    },3000);

    $(window).resize(function() {
      reCalcSize();
    });
  })();
</script>
</body>
</html>